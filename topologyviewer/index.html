<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>TopMolViewer</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<!--link type="text/css" rel="stylesheet" href="main.css"-->
		<link type="text/css" rel="stylesheet" href="../w3.css">
		<link type="text/css" rel="stylesheet" href="../custom.css">
		<script src="../fontawesome_c6514dbe78.js" crossorigin="anonymous"></script>
		<script type = "module">
			import * as module from './main.js'
			window.topmolviewer = function () { 
				const filename = document.getElementById('fileOption').value;
				module.topmolviewer(filename);
				console.log(filename);
			}
			window.setColorButton = module.setColorButton;
			window.setAAColorButton = module.setAAColorButton;
			
			module.topmolviewer(document.getElementById('fileOption').value);
			
			window.disposeAll = module.stopAndClear;
			//window.cancelAnimationFrame(window.requestAnimationFrame());
		</script>
		<script type="text/javascript">
			function saveCanvas() {
				let downloadLink = document.createElement('a');
				downloadLink.setAttribute('download', 'CanvasAsImage.png');
				let canvas = document.getElementById('maincanvas');
				canvas.toBlob(function(blob) {
					let url = URL.createObjectURL(blob);
					downloadLink.setAttribute('href', url);
					downloadLink.click();
				});
			}
		</script>
		<style>
			.lil-gui {
				--width: 250px;
				--name-width: 60%;
				--padding: 10px;
				--font-size: 100%;
				--widget-height: 25px;
				
				--background-color: #f6f6f6;
				--text-color: #3d3d3d;
				--title-background-color: #efefef;
				--title-text-color: #3d3d3d;
				--widget-color: #eaeaea;
				--hover-color: #f0f0f0;
				--focus-color: #fafafa;
				--number-color: #07aacf;
				--string-color: #8da300;
			}
			/* custom styling for all icons */
			.fa,
			.fa-solid,
			.fa-brands, 
			.fa-sharp-solid {
				color: black;
				background-color: #f6f6f6;
				border-radius: 0.2em;
				padding: 0.3em;
			}
		</style>
	</head>
	<body>
		<div class="w3-container w3-center w3-light-grey">
			<div class="w3-row">
				<div id="info" class="w3-col w3-quarter"> Version: 11042023<br> <a href="../index.html"><i class="fa fa-arrow-left" aria-hidden="true"></i> Back to main page</a> </div>
				<div class="w3-col w3-half">
					TopMolViewer<br>
					Visualization of Topogical Simplicial Complexes from Proteins <br>
					<a href="../index.html"> Dr. Rodrigo A. Moreira </a> <br>
					<a href="http://www.bcamath.org/en/people/razevedo"> Research Fellow @ BCAM </a>
				</div>
				<div class="w3-col w3-quarter"> <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br />This work is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0
<!-- a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License . -->
</a> </div>
			</div>
		</div>
		<div class="w3-container">
			<div class="w3-row-padding">
				<p>
				<div id="guicontainer" class="w3-col" style="width:auto"> </div>
				</p>
				<div class="w3-col w3-leftbar w3-border-light-grey" style="height:auto;width:auto; max-width:150px">
					<button id="screenshot" class="w3-button w3-border" type="button" onclick="saveCanvas()" style="width:100%;"> Save canvas </button>
					<form>
					<select class="w3-select w3-border" id="fileOption" onchange="topmolviewer()" style="margin: 2px 0px; padding: 11px 0px 11px 0px;">
					<optgroup label="Molecules available">
<option value="./data/108l.pdb.network_backbone.data" > 108l.pdb.network_backbone.data </option>
<option value="./data/108l.pdb.network_CA.data" > 108l.pdb.network_CA.data </option>
<option value="./data/108l.pdb.network_hbond.data" > 108l.pdb.network_hbond.data </option>
<option value="./data/108l.pdb.network_heavybackbone.data" > 108l.pdb.network_heavybackbone.data </option>
<option value="./data/108l.pdb.network_heavyCA.data" > 108l.pdb.network_heavyCA.data </option>
<option value="./data/108l.pdb.network_heavyhbond.data" > 108l.pdb.network_heavyhbond.data </option>
<option value="./data/108l.pdb.network_heavyprotein.data" > 108l.pdb.network_heavyprotein.data </option>
<option value="./data/108l.pdb.network_protein.data" > 108l.pdb.network_protein.data </option>
<option value="./data/1k1x.pdb.network_backbone.data" > 1k1x.pdb.network_backbone.data </option>
<option value="./data/1k1x.pdb.network_CA.data" > 1k1x.pdb.network_CA.data </option>
<option value="./data/1k1x.pdb.network_hbond.data" > 1k1x.pdb.network_hbond.data </option>
<option value="./data/1k1x.pdb.network_heavybackbone.data" > 1k1x.pdb.network_heavybackbone.data </option>
<option value="./data/1k1x.pdb.network_heavyCA.data" > 1k1x.pdb.network_heavyCA.data </option>
<option value="./data/1k1x.pdb.network_heavyhbond.data" > 1k1x.pdb.network_heavyhbond.data </option>
<option value="./data/1k1x.pdb.network_heavyprotein.data" > 1k1x.pdb.network_heavyprotein.data </option>
<option value="./data/1k1x.pdb.network_protein.data" > 1k1x.pdb.network_protein.data </option>
<option value="./data/1l2y.pdb.network_backbone.data" > 1l2y.pdb.network_backbone.data </option>
<option value="./data/1l2y.pdb.network_CA.data" > 1l2y.pdb.network_CA.data </option>
<option value="./data/1l2y.pdb.network_hbond.data" > 1l2y.pdb.network_hbond.data </option>
<option value="./data/1l2y.pdb.network_heavybackbone.data" > 1l2y.pdb.network_heavybackbone.data </option>
<option value="./data/1l2y.pdb.network_heavyCA.data" > 1l2y.pdb.network_heavyCA.data </option>
<option value="./data/1l2y.pdb.network_heavyhbond.data" > 1l2y.pdb.network_heavyhbond.data </option>
<option value="./data/1l2y.pdb.network_heavyprotein.data" > 1l2y.pdb.network_heavyprotein.data </option>
<option value="./data/1l2y.pdb.network_protein.data" > 1l2y.pdb.network_protein.data </option>
<option value="./data/1rbp.pdb.network_backbone.data" > 1rbp.pdb.network_backbone.data </option>
<option value="./data/1rbp.pdb.network_CA.data" > 1rbp.pdb.network_CA.data </option>
<option value="./data/1rbp.pdb.network_hbond.data" > 1rbp.pdb.network_hbond.data </option>
<option value="./data/1rbp.pdb.network_heavybackbone.data" > 1rbp.pdb.network_heavybackbone.data </option>
<option value="./data/1rbp.pdb.network_heavyCA.data" > 1rbp.pdb.network_heavyCA.data </option>
<option value="./data/1rbp.pdb.network_heavyhbond.data" > 1rbp.pdb.network_heavyhbond.data </option>
<option value="./data/1rbp.pdb.network_heavyprotein.data" > 1rbp.pdb.network_heavyprotein.data </option>
<option value="./data/1rbp.pdb.network_protein.data" > 1rbp.pdb.network_protein.data </option>
<option value="./data/betabarrel.pdb.network_backbone.data" > betabarrel.pdb.network_backbone.data </option>
<option value="./data/betabarrel.pdb.network_CA.data" > betabarrel.pdb.network_CA.data </option>
<option value="./data/betabarrel.pdb.network_hbond.data" > betabarrel.pdb.network_hbond.data </option>
<option value="./data/betabarrel.pdb.network_heavybackbone.data" > betabarrel.pdb.network_heavybackbone.data </option>
<option value="./data/betabarrel.pdb.network_heavyCA.data" > betabarrel.pdb.network_heavyCA.data </option>
<option value="./data/betabarrel.pdb.network_heavyhbond.data" > betabarrel.pdb.network_heavyhbond.data </option>
<option value="./data/betabarrel.pdb.network_heavyprotein.data" > betabarrel.pdb.network_heavyprotein.data </option>
<option value="./data/betabarrel.pdb.network_protein.data" > betabarrel.pdb.network_protein.data </option>
<option value="./data/helix310.pdb.network_backbone.data" > helix310.pdb.network_backbone.data </option>
<option value="./data/helix310.pdb.network_CA.data" > helix310.pdb.network_CA.data </option>
<option value="./data/helix310.pdb.network_hbond.data" > helix310.pdb.network_hbond.data </option>
<option value="./data/helix310.pdb.network_heavybackbone.data" > helix310.pdb.network_heavybackbone.data </option>
<option value="./data/helix310.pdb.network_heavyCA.data" > helix310.pdb.network_heavyCA.data </option>
<option value="./data/helix310.pdb.network_heavyhbond.data" > helix310.pdb.network_heavyhbond.data </option>
<option value="./data/helix310.pdb.network_heavyprotein.data" > helix310.pdb.network_heavyprotein.data </option>
<option value="./data/helix310.pdb.network_protein.data" > helix310.pdb.network_protein.data </option>
<option value="./data/helixAlpha310AlphaPiAalpha.pdb.network_backbone.data" > helixAlpha310AlphaPiAalpha.pdb.network_backbone.data </option>
<option value="./data/helixAlpha310AlphaPiAalpha.pdb.network_CA.data" > helixAlpha310AlphaPiAalpha.pdb.network_CA.data </option>
<option value="./data/helixAlpha310AlphaPiAalpha.pdb.network_hbond.data" > helixAlpha310AlphaPiAalpha.pdb.network_hbond.data </option>
<option value="./data/helixAlpha310AlphaPiAalpha.pdb.network_heavybackbone.data" > helixAlpha310AlphaPiAalpha.pdb.network_heavybackbone.data </option>
<option value="./data/helixAlpha310AlphaPiAalpha.pdb.network_heavyCA.data" > helixAlpha310AlphaPiAalpha.pdb.network_heavyCA.data </option>
<option value="./data/helixAlpha310AlphaPiAalpha.pdb.network_heavyhbond.data" > helixAlpha310AlphaPiAalpha.pdb.network_heavyhbond.data </option>
<option value="./data/helixAlpha310AlphaPiAalpha.pdb.network_heavyprotein.data" > helixAlpha310AlphaPiAalpha.pdb.network_heavyprotein.data </option>
<option value="./data/helixAlpha310AlphaPiAalpha.pdb.network_protein.data" > helixAlpha310AlphaPiAalpha.pdb.network_protein.data </option>
<option value="./data/helixalpha.pdb.network_backbone.data" > helixalpha.pdb.network_backbone.data </option>
<option value="./data/helixalpha.pdb.network_CA.data" > helixalpha.pdb.network_CA.data </option>
<option value="./data/helixalpha.pdb.network_hbond.data" > helixalpha.pdb.network_hbond.data </option>
<option value="./data/helixalpha.pdb.network_heavybackbone.data" > helixalpha.pdb.network_heavybackbone.data </option>
<option value="./data/helixalpha.pdb.network_heavyCA.data" > helixalpha.pdb.network_heavyCA.data </option>
<option value="./data/helixalpha.pdb.network_heavyhbond.data" > helixalpha.pdb.network_heavyhbond.data </option>
<option value="./data/helixalpha.pdb.network_heavyprotein.data" > helixalpha.pdb.network_heavyprotein.data </option>
<option value="./data/helixalpha.pdb.network_protein.data" > helixalpha.pdb.network_protein.data </option>
<option value="./data/helixpi.pdb.network_backbone.data" > helixpi.pdb.network_backbone.data </option>
<option value="./data/helixpi.pdb.network_CA.data" > helixpi.pdb.network_CA.data </option>
<option value="./data/helixpi.pdb.network_hbond.data" > helixpi.pdb.network_hbond.data </option>
<option value="./data/helixpi.pdb.network_heavybackbone.data" > helixpi.pdb.network_heavybackbone.data </option>
<option value="./data/helixpi.pdb.network_heavyCA.data" > helixpi.pdb.network_heavyCA.data </option>
<option value="./data/helixpi.pdb.network_heavyhbond.data" > helixpi.pdb.network_heavyhbond.data </option>
<option value="./data/helixpi.pdb.network_heavyprotein.data" > helixpi.pdb.network_heavyprotein.data </option>
<option value="./data/helixpi.pdb.network_protein.data" > helixpi.pdb.network_protein.data </option>
<option value="./data/loops.pdb.network_backbone.data" > loops.pdb.network_backbone.data </option>
<option value="./data/loops.pdb.network_CA.data" > loops.pdb.network_CA.data </option>
<option value="./data/loops.pdb.network_hbond.data" > loops.pdb.network_hbond.data </option>
<option value="./data/loops.pdb.network_heavybackbone.data" > loops.pdb.network_heavybackbone.data </option>
<option value="./data/loops.pdb.network_heavyCA.data" > loops.pdb.network_heavyCA.data </option>
<option value="./data/loops.pdb.network_heavyhbond.data" > loops.pdb.network_heavyhbond.data </option>
<option value="./data/loops.pdb.network_heavyprotein.data" > loops.pdb.network_heavyprotein.data </option>
<option value="./data/loops.pdb.network_protein.data" > loops.pdb.network_protein.data </option>

					</optgroup>
					</select>
					</form>
					 <!-- button class="w3-button w3-border" type="button" onclick="disposeAll()" style="width:100%"> Clear/Stop </button -->
				</div>
				<div class="w3-col w3-leftbar w3-border-light-grey" style="height:auto;width:auto">
					<b> INFO FROM DATA </b>
					<br><label id="infomaxcutoff">maxCutoff:</label>
					<br><label id="infomincutoff">minCutoff:</label>
					<br><label id="infomincurvature">minCurvaure:</label>
					<br><label id="infomaxcurvature">maxCurvature:</label>
				</div>
				<div id="infocutoffcontainer" class="w3-col w3-leftbar w3-border-light-grey" style="height:auto;width:auto">
					<b> FILTRATION </b><br>
					<label for="namecutoff">Cutoff:</label>
					<input type="range" id="cutoffvalue" min="0" max="" step="" value="">
					<input id="cutoffinput" class="w3-border w3-small w3-round" type="text" value="" style="padding: 0px 5px 0px 5px; width:60px">
					<div id="infoeuler" style="height:auto;width:auto"> </div>
				</div>
				<div class="w3-col w3-leftbar w3-border-light-grey" style="height:auto; width:auto">
					<b> HIGHLIGHT COLOR <br>
					Curvature (color) range<br>
					from <input id="mincurvature" class="w3-border w3-small w3-round" type="text" value="" style="padding: 0px 5px 0px 5px; width:60px">
					to   <input id="maxcurvature" class="w3-border w3-small w3-round" type="text" value="" style="padding: 0px 5px 0px 5px; width:60px">
					</b>
					<div id="pickcolorbutton" class="w3-bar w3-center"> </div>
				</div>
				
				<div class="w3-col w3-leftbar w3-border-light-grey" style="height:auto;width:auto">
				<b> HIGHLIGHT RESIDUE </b>
				<div id="pickaabutton" ></div>
				</div>
				<!--div id="infotubeintersection" class="w3-col l2 w3-leftbar w3-border-light-grey" style="margin:10px; padding: 10px; height:90px"></div-->
				<div id="canvascontainer" class="w3-col w3-bar w3-leftbar w3-border-light-grey" style="width:65%;">
					<canvas id="maincanvas"></canvas>
				</div>
				
				<div id="infomouse"   class="w3-col w3-bar w3-leftbar w3-border-light-grey" sytle="width:auto"></div>
				<div id="inforesidue" class="w3-col w3-bar w3-leftbar w3-border-light-grey" sytle="width:auto"></div> <!-- style="height:120px;" -->
			</div>
		</div>

		<div class="w3-container w3-center w3-light-grey">
		<div class="w3-row">
			<div  class="w3-col w3-quarter">
				<a href="http://www.bcamath.org/en/research/lines/MCEN"> <img src="../img/mcen-logo.png" class="w3-image w3-round" style="height: 80px"> </a>
			</div>
			
			<div class="w3-col w3-half">
				<a href="http://www.bcamath.org/en/people/srodrigues">
				Mathematical, Computational and Experimental Neuroscience (MCEN)<br>
				Dr. Serafim Rodrigues<br>
				Ikerbasque Research Professor
				</a>
			</div>
			<div class="w3-col w3-quarter">
				<a href="http://www.bcamath.org/" ><img src="../logo-bcam-color-transparent-450-300x150.png" class="w3-image w3-round" style="height: 80px"> </a>
			</div>
		</div>
		</div>
		
	<!-- Footer -->
	<footer class="w3-center w3-black w3-padding-8 w3-opacity ">
	    <!-- Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-grey">w3.css</a> -->
	    <i class="fas fa-copyright" alt="(C)"></i> <a href="http://rams-research.github.io/index.html"> Rodrigo A. Moreira </a> 2023 <br>
	</footer>

	</body>
</html>
