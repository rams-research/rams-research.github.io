<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>TopMolViewer</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<!--link type="text/css" rel="stylesheet" href="main.css"-->
		<link type="text/css" rel="stylesheet" href="../w3.css">
		<link type="text/css" rel="stylesheet" href="../custom.css">
		<script src="../fontawesome_c6514dbe78.js" crossorigin="anonymous"></script>
		<script type = "module">
			import * as module from './main.js'
			window.topmolviewer = function () { 
				const filename = document.getElementById('fileOption').value;
				module.topmolviewer(filename);
				console.log(filename);
			}
			window.setColorButton = module.setColorButton;
			window.setAAColorButton = module.setAAColorButton;
			
			module.topmolviewer(document.getElementById('fileOption').value);
			
			window.disposeAll = module.stopAndClear;
			//window.cancelAnimationFrame(window.requestAnimationFrame());
		</script>
		<script type="text/javascript">
			function saveCanvas() {
				let downloadLink = document.createElement('a');
				downloadLink.setAttribute('download', 'CanvasAsImage.png');
				let canvas = document.getElementById('maincanvas');
				canvas.toBlob(function(blob) {
					let url = URL.createObjectURL(blob);
					downloadLink.setAttribute('href', url);
					downloadLink.click();
				});
			}
		</script>
		<style>
			.lil-gui {
				--width: 250px;
				--name-width: 60%;
				--padding: 10px;
				--font-size: 100%;
				--widget-height: 25px;
				
				--background-color: #f6f6f6;
				--text-color: #3d3d3d;
				--title-background-color: #efefef;
				--title-text-color: #3d3d3d;
				--widget-color: #eaeaea;
				--hover-color: #f0f0f0;
				--focus-color: #fafafa;
				--number-color: #07aacf;
				--string-color: #8da300;
			}
			/* custom styling for all icons */
			.fa,
			.fa-solid,
			.fa-brands, 
			.fa-sharp-solid {
				color: black;
				background-color: #f6f6f6;
				border-radius: 0.2em;
				padding: 0.3em;
			}
		</style>
	</head>
	<body>
		<div class="w3-container w3-center w3-light-green">
			<div class="w3-row">
				<div id="info" class="w3-col w3-quarter"> Version: 03292023<br> <a href="../index.html"><i class="fa fa-arrow-left" aria-hidden="true"></i> Back to main page</a> </div>
				<div class="w3-col w3-half">
					Visualization of Topogical Simplicial Complexes from Proteins<br>
					<a href="http://rams-research.github.io/index.html"> <i class="fas fa-copyright" alt="(C)"></i> Rodrigo A. Moreira 2023 </a><br>
					<a href="http://www.bcamath.org/en/people/razevedo"> Research Fellow @ BCAM </a>
				</div>
				<div class="w3-col w3-quarter"> <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>. </div>
			</div>
		</div>
		<div class="w3-container">
			<div class="w3-row-padding">
				<div id="guicontainer" class="w3-col" style="width:260px"> </div>
				<div class="w3-col w3-leftbar w3-border-light-green" style="width: 140px; height:120px;">
					<button id="screenshot" class="w3-button w3-border" type="button" onclick="saveCanvas()" style="width:100%;"> Save canvas </button>
					<select class="w3-select w3-border" id="fileOption" style="margin: 2px 0px; padding: 11px 0px 11px 0px; ">
						<option value="" disabled >Molecules</option>
					 	<option value="1A5R_frame413.data" selectec onclick="topmolviewer()">PDB 1A5R / 1</option>
					 	<option value="1A5R_frame99999.data" onclick="topmolviewer()" style="width:100%">PDB 1A5R / 2</option>
					 </select>
					 <!-- button class="w3-button w3-border" type="button" onclick="disposeAll()" style="width:100%"> Clear/Stop </button -->
				</div>
				<div id="infoeuler" class="w3-col w3-leftbar w3-border-light-green" style="width:350px; height:120px;">
					Filtration cutoff: <br>
					Euler Characteristics: <br>
					Average Euler Characteristic: 
				</div>
				<div class="w3-col w3-leftbar w3-border-light-green" style="width:340px; height:120px">
					Highlight a color representing an curvature value or a residue type: <br>
					<div id="pickcolorbutton" class="w3-bar"> </div>
				</div>
				<div id="pickaabutton" class="w3-col w3-bar w3-leftbar w3-border-light-green" style="width:500px; height:120px"></div>
				<div id="inforesidue" class="w3-col w3-half w3-hide-medium w3-leftbar w3-border-light-green"></div> <!-- style="height:120px;" -->
				<div id="infomouse"   class="w3-col w3-half w3-hide-medium w3-leftbar w3-border-light-green"></div>
				<!--div id="infotubeintersection" class="w3-col l2 w3-leftbar w3-border-light-green" style="margin:10px; padding: 10px; height:90px"></div-->
				<div id="canvascontainer" class="w3-col l1">
					<canvas id="maincanvas"></canvas>
				</div>
			</div>
		</div>

		<div class="w3-container w3-center w3-light-green">
		<div class="w3-row">
			<div  class="w3-col w3-quarter">
				<a href="http://www.bcamath.org/en/research/lines/MCEN"> <img src="../img/mcen-logo.png" class="w3-image w3-round" style="height: 80px"> </a>
			</div>
			
			<div class="w3-col w3-half">
				<a href="http://www.bcamath.org/en/people/srodrigues">
				Mathematical, Computational and Experimental Neuroscience (MCEN)<br>
				Dr. Serafim Rodrigues<br>
				Ikerbasque Research Professor
				</a>
			</div>
			<div class="w3-col w3-quarter">
				<a href="http://www.bcamath.org/" ><img src="../logo-bcam-color-transparent-450-300x150.png" class="w3-image w3-round" style="height: 80px"> </a>
			</div>
		</div>
		</div>
		
	<!-- Footer -->
	<footer class="w3-center w3-black w3-padding-8 w3-opacity ">
	    <!-- Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a> -->
	</footer>

	</body>
</html>
